<span class="fa fa-spinner spinner"
      *ngIf="loading"></span>

<div class="panel panel-primary">
  <div class="panel-heading my-4 my-text-warning">
    <h3>{{ pageTitle }}</h3>
  </div>
  <div class="panel-body wrapper">
    <div class="w-100 d-flex justify-content-between align-items-start mb-4">
      <span class="badge my-badge-warning text-white align-items-center p-2">
        Filtered by: {{ movieSearched }}
      </span>

      <div class="w-25 d-flex flex-row">
        <input
          type="text"
          class="form-control search"
          id="movies"
          aria-describedby="movieshelp"
          placeholder="Search movies"
          [(ngModel)]="movieSearched"
        />
      </div>
    </div>

    <!-- List Movies -->
    <div class="w-100 d-flex flex-row justify-content-between flex-wrap" *ngIf="products && products.length">
      <div class="d-flex flex-column all-info justify-content-end mb-5" *ngFor="let movies of filteredMovies">
        <div class="name-link">
          <a class="text-white" [routerLink]="['/movies-list/detail', movies.imdbID, movieSearched]">
            <p class="text-title">{{ movies.Title }}</p>
          </a>
        </div>

        <div class="my-image">
          <img class="img-thumbnail" *ngIf="movies.Poster" (error)="movies.Poster = false" [src]="movies.Poster" [title]="movies.Title" />
          <p *ngIf="!movies.Poster">no image</p>
        </div>

        <div class="d-flex flex-column justify-content-start text-white mt-3">
          <div class="d-flex flex-row align-items-center text-white">
            <span class="year-type mt-1 mr-3">Year:</span>
            {{ movies.Year }}
          </div>
  
          <div class="d-flex flex-row align-items-center text-white">
            <span class="year-type mt-1 mr-3">Type:</span>
            {{ movies.Type }}
          </div>
        </div>

         <pm-star [rating]='movies.starRating' (ratingClicked)='onRatingClicked($event)'></pm-star>
      </div>
    </div>
  </div>
</div>
<!-- <div *ngIf="errorMessage" class="alert alert-danger">
  Error: {{ errorMessage }}
</div>
 -->
<!-- Error message -->
<div *ngIf="errorMessage" class="alert alert-dismissible alert-danger text-white">
  <button type="button" class="close" (click)="errorMessage = null" data-dismiss="alert">&times;</button>
  <strong>Error: </strong> {{ errorMessage }} 
</div>